# projectpad completion
# vim: set ft=sh et ts=4 sw=4 sts=4:

# This bash completions script was generated by
# completely (https://github.com/dannyben/completely)
# and slightly altered by me for style

_projectpad_completions_filter() {
    local words="$1"
    local cur=${COMP_WORDS[COMP_CWORD]}
    local result=()

    if [[ "${cur:0:1}" == "-" ]]; then
        echo "$words"
    else
        for word in $words; do
            [[ "${word:0:1}" != "-" ]] && result+=("$word")
        done
        echo "${result[*]}"
    fi
}

_projectpad_completions() {
    local cur=${COMP_WORDS[COMP_CWORD]}
    local compwords=("${COMP_WORDS[@]:1:$COMP_CWORD-1}")
    local compline="${compwords[*]}"

    case "$compline" in
        *)
            while read -r
            do COMPREPLY+=( "$REPLY" )
            done < <( compgen -W "$(_projectpad_completions_filter "help set add pwd edit update gitto name get version")" -- "$cur" )
            ;;

    esac
} && complete -F _projectpad_completions projectpad
